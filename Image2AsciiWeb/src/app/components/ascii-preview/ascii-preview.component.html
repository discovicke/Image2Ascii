<div class="ascii-preview-container">
  <div class="output-header">
    <h3>>> VISUAL_OUTPUT_MONITOR</h3>
    <div class="output-meta">
      W:{{ settings()?.width ?? 100 }} H:Auto | CHAR_SET: {{ settings()?.asciiLibrary ?? 'Classic' }}
    </div>
  </div>

  <div class="ascii-viewport">
    @if (isLoading()) {
      <div class="loading">
        <div class="spinner"></div>
        <p>>> PROCESSING...</p>
      </div>
    } @else if (ascii()) {
      <pre class="ascii-output" [style.color]="settings()?.chromatic ? 'var(--color-text-primary)' : 'var(--color-accent-green)'">{{ ascii() }}</pre>
    } @else {
      <div class="placeholder">
        <p>AWAITING_INPUT_SIGNAL...</p>
      </div>
    }
  </div>

  <div class="output-actions">
    <button class="btn-text" (click)="copyToClipboard()">
      @if (copySuccess) {
        [ COPIED! ]
      } @else {
        [ COPY_TO_CLIPBOARD ]
      }
    </button>
    <button class="btn-text" (click)="downloadAsText()">[ SAVE_DISK ]</button>
  </div>
</div>
