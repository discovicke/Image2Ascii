<div class="ascii-preview-container">
  <div class="header">
    <h2>ASCII Output</h2>
    @if (ascii()) {
      <div class="actions">
        <button (click)="copyToClipboard()" [class.success]="copySuccess">
          @if (copySuccess) {
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20 6 9 17 4 12" />
            </svg>Copied!
          } @else {
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
            </svg>
            Copy
          }
        </button>
        <button (click)="downloadAsText()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
            <polyline points="7 10 12 15 17 10" />
            <line x1="12" y1="15" x2="12" y2="3" />
          </svg>
          Download
        </button>
      </div>
    }
  </div>

  <div class="preview-area">
    @if (isLoading()) {
      <div class="loading">
        <div class="spinner"></div>
        <p>Generating ASCII art...</p>
      </div>
    } @else if (ascii()) {
      <pre class="ascii-output">{{ ascii() }}</pre>
    } @else {
      <div class="placeholder">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
          <circle cx="8.5" cy="8.5" r="1.5" />
          <polyline points="21 15 16 10 5 21" />
        </svg>
        <p>Upload an image to generate ASCII art</p>
      </div>
    }
  </div>
</div>
