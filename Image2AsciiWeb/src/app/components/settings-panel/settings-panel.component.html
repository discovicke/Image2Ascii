<div class="settings-panel">
  <h2>Settings</h2>

  <!-- Width Slider -->
  <div class="control-group">
    <div class="label-row">
      <label>GRID_WIDTH</label>
      <span class="value">{{ settings().width }} char</span>
    </div>
    <input
      type="range"
      id="width"
      min="50"
      max="200"
      [value]="settings().width"
      (input)="onWidthChange($any($event.target).value)"
    />
    <div class="tick-marks">
      <span>|</span><span>|</span><span>|</span><span>|</span><span>|</span>
    </div>
  </div>

  <!-- Brightness Slider -->
  <div class="control-group">
    <div class="label-row">
      <label>SIGNAL_BRIGHTNESS</label>
      <span class="value">{{ settings().brightness }}</span>
    </div>
    <input
      type="range"
      id="brightness"
      min="-1"
      max="1"
      step="0.1"
      [value]="settings().brightness"
      (input)="onBrightnessChange($any($event.target).value)"
    />
  </div>

  <!-- Gamma Slider -->
  <div class="control-group">
    <div class="label-row">
      <label>GAMMA_CORRECT</label>
      <span class="value">{{ settings().gamma }}</span>
    </div>
    <input
      type="range"
      id="gamma"
      min="0.5"
      max="2"
      step="0.1"
      [value]="settings().gamma"
      (input)="onGammaChange($any($event.target).value)"
    />
  </div>

  <!-- ASCII Library Select -->
  <div class="control-group">
    <div class="label-row">
      <label>CHAR_SET</label>
    </div>
    <select
      id="asciiLibrary"
      (change)="onAsciiLibraryChange($any($event.target).value)"
    >
      @for (group of groupedLibraries; track group.label) {
        <optgroup [label]="group.label">
          @for (lib of group.libs; track lib.key) {
            <option
              [value]="lib.key"
              [selected]="lib.key === settings().asciiLibrary"
            >
              {{ lib.label }}
              @if (lib.warning) {
                â€” {{ lib.warning }}
              }
            </option>
          }
        </optgroup>
      }
    </select>
  </div>

  <!-- Toggles -->
  <div class="control-group toggles">
    <div class="label-row">
      <label>PROCESSING_MODE</label>
    </div>
    <button
      class="toggle-btn"
      [class.active]="settings().invert"
      (click)="onInvertChange(!settings().invert)"
    >
      [ {{ settings().invert ? 'X' : ' ' }} ] INVERT_LUMA
    </button>
  </div>
</div>
